[pytest]
# Test discovery and execution
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
pythonpath = src

# Test execution options
addopts = 
    -q
    --strict-markers
    --strict-config
    --tb=short
    --maxfail=10
    -p pytest_asyncio

asyncio_mode = auto

# Test markers
markers =
    # Test categories
    unit: Unit tests (fast, isolated)
    integration: Integration tests (medium speed, external dependencies)
    e2e: End-to-end tests (slow, full system)
    
    # Test characteristics
    slow: Tests that take longer to run
    fast: Tests that run quickly
    
    # Test environment
    network: Tests that perform network calls
    no_network: Tests that don't require network access
    
    # Test data
    small_data: Tests with minimal data
    large_data: Tests with substantial data
    
    # Test isolation
    isolated: Tests that can run in parallel
    serial: Tests that must run sequentially
    
    # Test stability
    stable: Tests that are reliable
    flaky: Tests that may occasionally fail
    
    # Test coverage
    core: Tests for core functionality
    edge_case: Tests for edge cases and error conditions
    
    # New comprehensive testing markers
    performance: Performance and benchmark tests
    benchmark: Detailed performance benchmarking
    regression: Performance regression tests
    profiling: CPU and memory profiling tests
    security: Security and vulnerability tests
    penetration: Penetration-style deep security tests
    database: Database access and ORM tests
    external: Tests that reach external services/APIs
    crypto: Cryptography-related tests
    load: Load and stress tests
    audit: Security audit and static analysis tests
    stress: Stress tests
    compliance: Security compliance tests (OWASP, GDPR, ISO)
    real_sources: Tests using real sources with minimal mocking
    error_scenarios: Error handling and recovery tests
    data_flow: Data integrity and flow tests
    negative: Negative test cases and error path testing
    web: Web interface specific tests
    graphql: GraphQL specific tests
    file_ops: File operation tests
    concurrency: Concurrency and threading tests
